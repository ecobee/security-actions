name: GitHub App token
author: ecobee Technologies ULC
description: Run a GitHub Action as a GitHub App instead of using secrets.GITHUB_TOKEN or a personal access token.
inputs:
  app_id:
    description: ID of the GitHub App.
    required: true
  private_key:
    description: Private key of the GitHub App (can be Base64 encoded).
    required: true
  permissions:
    description: Permissions object with explicit permissions for the requested token.
    required: true
  installation_id:
    description: The ID of the installation for which the token will be requested (defaults to the ID of the repository's installation).
    required: false
  repository:
    description: The full name of the repository for which the token will be requested (defaults to the current repository).
    required: false
outputs:
  token:
    description: An installation token for the GitHub App on the requested repository.
runs:
  using: node16
  main: ${{ github.action_path }}/../lib/ecoGATE.js
branding:
  icon: unlock
  color: gray-dark
